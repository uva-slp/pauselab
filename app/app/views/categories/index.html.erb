
<% if can? :create, Category %>
  <button type="button" class='btn btn-primary pull-right clearfix' data-toggle="modal" data-target="#cat_form"><%= t 'categories.create_new' %></button>
<% end %>

<h2 class="pull-left"><%= Category.model_name.human(count:2) %></h2>

<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
        <th><%= t 'common.id' %></th>
        <th><%= Category.human_attribute_name :icon %></th>
        <th><%= Category.human_attribute_name :name %></th>
        <th><%= t 'common.actions' %></th>
      </tr>
    </thead>

    <% @categories.each do |category| %>
     <tr>
       <td><%= category.id %></td>
       <td>
         <% if category.icon.present? %>
           <%= image_tag category.icon.url, size: "20x20" %>
         <% else %>
           <%= t 'common.na' %>
         <% end %>
       </td>
       <td><%= category.name %></td>
       <td><%= link_to (t 'common.show'), category_path(category) %></td>
     </tr>
   <% end %>
  </table>
</div>

<!-- Modal -->
<%= render partial: 'modal_form', locals: {category: @category} %>
